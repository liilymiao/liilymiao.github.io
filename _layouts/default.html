---
layout: null
---
<!doctype html>
<html lang="{{ site.lang | default: 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% if page.title %}{{ page.title }} Â· {% endif %}{{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/stylesheets/styles.css?v=' | append: site.github.build_revision | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/custom.css?v=' | append: site.github.build_revision | relative_url }}">
</head>
<body>
  <nav class="top-nav">
    <a class="brand" href="{{ '/' | relative_url }}">{{ site.title }}</a>
    <div class="links">
      <a href="{{ '/' | relative_url }}" data-i18n="nav.home">Home</a>
      <a href="{{ '/about/' | relative_url }}" data-i18n="nav.about">About</a>
      <a href="{{ '/categories/' | relative_url }}" data-i18n="nav.categories">Categories</a>
      <a href="{{ '/albums/' | relative_url }}" data-i18n="nav.albums">Albums</a>
      <a href="{{ '/locations/' | relative_url }}" data-i18n="nav.locations">Locations</a>
    </div>
  </nav>

  <!-- å·¦ä¸‹è§’ï¼šä¸»é¢˜ & è¯­è¨€æŒ‰é’®ï¼ˆæ ·å¼è§ custom.cssï¼‰ -->
  <div class="theme-toggle"><button id="themeToggle" title="Toggle dark/light mode">ğŸŒ™</button></div>
  <div class="lang-toggle"><button id="langToggle" title="Switch language">EN/ä¸­</button></div>

  <main class="page-wrap">
    {{ content }}
  </main>

  <footer class="site-footer">
    <small>Â© {{ site.time | date: '%Y' }} {{ site.title }}</small>
  </footer>

  <!-- ä¸»é¢˜åˆ‡æ¢ -->
  <script>
  (function() {
    const btn = document.getElementById('themeToggle');
    const root = document.documentElement;
    const stored = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const initTheme = stored || (prefersDark ? 'dark' : 'light');
    root.dataset.theme = initTheme;
    if (btn) btn.textContent = initTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    btn && btn.addEventListener('click', () => {
      const cur = root.dataset.theme;
      const next = cur === 'dark' ? 'light' : 'dark';
      root.dataset.theme = next;
      localStorage.setItem('theme', next);
      btn.textContent = next === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
    });
  })();
  </script>

  <!-- è¯­è¨€åˆ‡æ¢ + æ–‡æ¡ˆæ›¿æ¢ï¼ˆé¦–æ¬¡é»˜è®¤è‹±æ–‡ï¼‰ -->
  <script>
  (function(){
    const SUPPORTED = ['en','zh'];
    const STORE_KEY = 'lang';
    const btn = document.getElementById('langToggle');

    // è¯å…¸
    const dict = {
      en: {
        "nav.home":"Home",
        "nav.about":"About",
        "nav.categories":"Categories",
        "nav.albums":"Albums",
        "nav.locations":"Locations",

        "home.latest":"Latest posts",
        "home.about":"About",
        "home.albums":"Albums",
        "home.location":"Location:",
        "home.viewall":"View all â†’",
        "home.photos":"Photos",

        "filters.all":"All",
        "filters.filter":"Filter:"
      },
      zh: {
        "nav.home":"ä¸»é¡µ",
        "nav.about":"å…³äº",
        "nav.categories":"åˆ†ç±»",
        "nav.albums":"ç›¸å†Œ",
        "nav.locations":"åœ°ç‚¹",

        "home.latest":"æœ€æ–°æ–‡ç« ",
        "home.about":"å…³äº",
        "home.albums":"ç›¸å†Œ",
        "home.location":"åœ°åŒºï¼š",
        "home.viewall":"æŸ¥çœ‹å…¨éƒ¨ â†’",
        "home.photos":"ç…§ç‰‡",

        "filters.all":"å…¨éƒ¨",
        "filters.filter":"ç­›é€‰ï¼š"
      }
    };

    function getInitLang(){
      // â‘  URL è¦†ç›–ï¼ˆä¸€æ¬¡æ€§å¹¶å†™å…¥æœ¬åœ°ï¼‰
      const urlLang = new URL(location.href).searchParams.get('lang');
      if (urlLang && SUPPORTED.includes(urlLang)) {
        localStorage.setItem(STORE_KEY, urlLang);
        return urlLang;
      }
      // â‘¡ è¯»å–æœ¬åœ°
      const saved = localStorage.getItem(STORE_KEY);
      if (saved && SUPPORTED.includes(saved)) return saved;
      // â‘¢ é»˜è®¤ï¼šè‹±æ–‡
      return 'en';
    }

    let lang = getInitLang();

    function setHtmlLang(l){
      document.documentElement.lang = (l === 'zh' ? 'zh-CN' : 'en');
      document.documentElement.dataset.lang = l;
    }
    function setBtnLabel(l){
      if (!btn) return;
      btn.textContent = (l === 'zh') ? 'ä¸­/EN' : 'EN/ä¸­';
      btn.setAttribute('aria-label', (l === 'zh') ? 'Switch to English' : 'åˆ‡æ¢åˆ°ä¸­æ–‡');
    }
    function applyI18n(l){
      const map = dict[l] || dict.en;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if (map[key] != null) el.textContent = map[key];
      });
    }

    // åˆå§‹åŒ–
    setHtmlLang(lang);
    setBtnLabel(lang);
    applyI18n(lang);
    localStorage.setItem(STORE_KEY, lang);

    // ç‚¹å‡»åˆ‡æ¢
    btn && btn.addEventListener('click', ()=>{
      lang = (lang === 'en' ? 'zh' : 'en');
      localStorage.setItem(STORE_KEY, lang);
      setHtmlLang(lang);
      setBtnLabel(lang);
      applyI18n(lang);
    });
  })();
  </script>
</body>
</html>