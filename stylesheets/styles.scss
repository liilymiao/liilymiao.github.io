---
---

/* 先加载主题，再覆盖 */
@import "{{ site.theme }}";

/* ===== 亮色配色 & 基础排版 ===== */
:root{
  --paper:#f5f7fa; --ink:#1f2937; --muted:#6b7280; --edge:#e5e7eb;
  --blue:#5b8aa6; --blue-2:#2e6f8f; --chip:#eef2f7;
}

body{ background:var(--paper); color:var(--ink); line-height:1.8; }
a{ color:var(--blue); text-decoration:none; }
a:hover{ color:var(--blue-2); text-decoration:underline; }
h1,h2,h3{ color:var(--ink); }

.wrapper{ max-width:860px; margin:28px auto; }
.post,.page{
  background:#fff; border:1px solid var(--edge);
  box-shadow:0 2px 12px rgba(17,24,39,.04); border-radius:10px; padding:22px;
}

pre,code{ background:var(--chip); }
pre{ padding:12px 14px; border-radius:8px; border:1px solid var(--edge); overflow:auto; }
blockquote{ border-left:3px solid var(--blue); color:var(--muted); background:#fff; padding:.4rem .9rem; }

/* 防止 /albums 页首图铺满 */
.page > p:first-child > img:only-child{
  max-width:100%; height:auto; display:block; margin:0 auto;
}

/* ===== Albums grid：统一封面比例，避免拉高一整行 ===== */
.albums-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(260px,1fr));
  gap:1rem;
  margin-top:1rem;
}

.album-card{
  display:block; background:#fff; border-radius:12px; overflow:hidden;
  box-shadow:0 1px 6px rgba(0,0,0,.06); text-decoration:none;
}

/* 统一封面比例（可改成 3/2 或 4/3） */
.album-card img{
  width:100%;
  aspect-ratio:16 / 10;
  height:auto;
  object-fit:cover;
  display:block;
}

/* ===== Photos stream：固定卡片高度，保证视觉顺序 ===== */
.photos-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(220px,1fr));
  gap:.75rem;
}

.photo-card{
  display:block; background:#fff; border-radius:12px; overflow:hidden;
  box-shadow:0 1px 6px rgba(0,0,0,.06); text-decoration:none;
}

/* 关键：固定高度 + cover；用 !important 防旧样式干扰 */
.photo-card img{
  width:100%;
  height:180px !important;
  object-fit:cover;
  display:block;
}

/* 顶部筛选“胶囊”按钮 */
.album-filters{
  margin:.5rem 0 1rem; display:flex; gap:.5rem; align-items:center; flex-wrap:wrap;
}
.album-filters button{
  border:1px solid rgba(0,0,0,.1); background:#fff; border-radius:999px;
  padding:.25rem .6rem; font-size:.85rem; cursor:pointer;
}
.album-filters button.on{ background:#eef2ff; border-color:#c7d2fe; font-weight:600; }

/* ===== 深色模式（系统）——合并为一个块，避免重复覆盖 ===== */
@media (prefers-color-scheme: dark){
  :root{
    --paper:#121212; --ink:#f5f6fa; --muted:#b0b6bf; --edge:#2a2f38;
    --blue:#93c5fd; --blue-2:#bfdbfe; --chip:#1c1f24;
  }
  body{ background:var(--paper); color:var(--ink); }
  .post,.page{
    background:#1e242c;                   /* 比纯黑更易读 */
    border-color:var(--edge);
    border:1px solid rgba(255,255,255,.05);
    box-shadow:0 2px 12px rgba(0,0,0,.30);
  }
  a{ color:var(--blue); }
  a:hover{ color:var(--blue-2); text-decoration:underline; }
}